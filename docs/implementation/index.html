<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,user-scalable=no,user-scalable=0"><link rel="stylesheet" href="https://sembeacon.org/css/styles.css?Fri Oct 27 2023 17:09:57 GMT+0000 (Coordinated Universal Time)"><link href="https://fonts.cdnfonts.com/css/itc-avant-garde-gothic-std-book" rel="stylesheet"><title>Implementation | SemBeacon</title><meta name="description" content=""><meta name="robots" content="index,follow"><meta name="author" content="Maxim Van de Wynckel"><link rel="canonical" href="https://sembeacon.org/docs/implementation/"><meta property="og:title" content="Implementation | SemBeacon"><meta property="og:type" content="article"><meta property="og:url" content="https://sembeacon.org/docs/implementation/"><meta property="og:description" content=""><meta property="og:image" content="https://sembeacon.org/images/social/summary-large.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@SemBeacon"><meta name="twitter:url" content="https://sembeacon.org/docs/implementation/"><meta name="twitter:title" content="Implementation | SemBeacon"><meta name="twitter:description" content=""><meta name="twitter:image" content="https://sembeacon.org/images/social/summary-large.png"><meta name="keywords" content="sembeacon, semantic beacon, bluetooth, ble, bluetooth low energy, indoor positioning, rtls, indoor tracking"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"><link rel="icon" href="/favicon.ico"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><meta name="theme-color" content="#363795"></head><body><div class="container"><header><nav><ul><li><a href="https://sembeacon.org/">Home</a></li><li><a href="https://sembeacon.org/about/">About</a></li><li><a href="https://sembeacon.org/docs/">Docs</a></li><li><a href="https://github.com/SemBeacon"><i class="fa-brands fa-github"></i>&nbsp;GitHub</a></li></ul></nav></header><div><div class="row"><div class="col-sm-3"><nav class="navigation"><ul><li><a href="https://sembeacon.org/docs/">Specification</a></li><li><a href="https://sembeacon.org/docs/vocabulary/">Ontology</a></li><li class="selected"><a href="https://sembeacon.org/docs/implementation/" class="current">Implementation</a><nav class="toc"><ul><li><a href="#spatial-grouping-and-environment-analysis">Spatial Grouping and Environment Analysis</a></li><li><a href="#semantic-environment">Semantic Environment</a></li><li><a href="#beacon-implementation-and-deployment">Beacon Implementation and Deployment</a></li><li><a href="#scanning-application">Scanning Application</a></li></ul></nav></li><li><a href="https://sembeacon.org/docs/tools/">Tools</a></li><li><a href="https://sembeacon.org/docs/logo/">Logo</a></li></ul></nav></div><div class="col-sm-9"><h1>Implementation</h1><div class="alert alert-warn">Work in progress</div><h2 id="spatial-grouping-and-environment-analysis" tabindex="-1">Spatial Grouping and Environment Analysis</h2><p>SemBeacon helps to describe environments and the Physical Things within. Once a list is created of all Things that should be described, grouping can be performed.</p><p>Physical things, environments and beacons should be grouped on a spatial level. However, as all grouped instances will be fetched at the same time, developers are free to decide to split up the spatial grouping when needed. In general, spatial grouping should be performed on <em>floors</em> or <em>buildings</em>. If users are expected to navigate over multiple floors (e.g. in a hospital) then the spatial grouping can be performed on the whole building.</p><p>In addition to the Physical Things that need to be described, multiple beacons need to cover the spatial area so nearby SemBeacon scanners can pick up the advertisements.</p><p><img src="/images/implementation/coverage_legend.svg" alt="Signal strenght range"> <img src="/images/implementation/coverage_map.png" alt="Coverage of a map with signal strength" width="100%"></p><h2 id="semantic-environment" tabindex="-1">Semantic Environment</h2><p>After analyzing the environment and performing spatial grouping, a semantic description of the environment(s) should be created. We will make use of the SemBeacon vocabulary along with POSO and M3 Lite.</p><h2 id="beacon-implementation-and-deployment" tabindex="-1">Beacon Implementation and Deployment</h2><p>The beacon implementation is similar to existing Eddystone, iBeacon or AltBeacon implementations. On our GitHub page we offer an ESP32 library for creating a beacon.</p><h2 id="scanning-application" tabindex="-1">Scanning Application</h2><ol><li><strong>State</strong>: The application keeps a local state of the <code>namespaces</code> it encounters and the associated <code>resource URIs</code>. Each <code>namespace</code> keeps track of the beacons and physical things located within those namespaces.</li><li><strong>Passive scanning</strong>: The scanning application should start with a passive scan for iBeacon/AltBeacon compatible data. The application passively scans for incoming advertisements until AltBeacon compatible manufacturer data is detected that includes a 128-bit UUID (i.e. <code>namespace</code> identifier).</li><li><strong>Beacon identification</strong>: A beacon is identified with a <code>namespace</code> and <code>instance</code> identifier. The application checks if it has knowledge about the <code>namespace</code> identifier in its local state. If the <code>namespace</code> was not previously discovered, an active scan is performed. If the <code>namespace</code> was previously discovered and no cache timeout occurs, the passive scanning is continued.</li><li><strong>Active scanning</strong>: Active scanning involves a scan request by the scanning application.</li><li><strong>SemBeacon identification</strong>: SemBeacons will respond with a scan response that includes the Eddystone-URL compatible resource URI. Compatible scanners will detect a SemBeacon when it has an AltBeacon advertisement and Eddystone-URL scan response.</li><li><strong>Data retrieval</strong>: In case no information about the namespace was available, the resource URI is accessed to retrieve the location of the beacon, as well as other beacons within the same namespace. Depending on the SemBeacon flags and the implementation of the application to act on these flags, the data might not be retrieved.</li><li><strong>Passive scanning</strong>: The application continues the passive scan until an unknown namespace is found, in which case step (3) is performed again.</li></ol></div></div></div><footer><div class="col"><a href="/"><div class="logo"></div></a></div><div class="col"><p>Â© 2022 - 2023 | Maxim Van de Wynckel, Vrije Universiteit Brussel. Licensed under <a target="_blank" href="https://github.com/SemBeacon/specification/blob/main/LICENSE">Apache 2.0</a>.</p><p>This page was last edited on Oct 27, 2023 - 17:09</p></div></footer></div></body></html>